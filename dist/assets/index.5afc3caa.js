var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,o=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,l=(e,l)=>{for(var r in l||(l={}))t.call(l,r)&&o(e,r,l[r]);if(a)for(var r of a(l))n.call(l,r)&&o(e,r,l[r]);return e};import{r,m as i,c as s,o as c,C as m,F as p,M as d,B as u,a as g,A as h,b as E,L as f,d as b,w as x,e as y,f as w,g as v,h as C,i as k,D as N,j as S,R as T,k as L,l as A,T as z,H as q,I as R,n as B,u as D,p as U,q as I,s as j,U as _,t as F,v as O,x as P,y as W,z as G,E as M,G as $,J,K as H,N as Y,O as V,P as Z,Q as K,S as Q,V as X,W as ee,X as te,Y as ae,Z as ne,_ as oe,$ as le,a0 as re,a1 as ie,a2 as se,a3 as ce,a4 as me,a5 as pe,a6 as de,a7 as ue,a8 as ge,a9 as he,aa as Ee,ab as fe,ac as be,ad as xe,ae as ye,af as we,ag as ve,ah as Ce,ai as ke,aj as Ne}from"./vendor.20afc30e.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,l)=>{const r=new URL(e,n);if(self[t].moduleMap[r])return a(self[t].moduleMap[r]);const i=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){l(new Error(`Failed to import: ${e}`)),o(s)},onload(){a(self[t].moduleMap[r]),o(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("/assets/");const Se=e=>r.createElement("section",{className:"login-container"},r.createElement("div",{className:"logo-container"},r.createElement("img",{src:"https://decagon-clever.netlify.app/img/logo-white.svg",alt:"Logo",className:"Deca-logo"}),r.createElement("p",{className:"Deca-desc"},"Decagon is a software engineering institute ushering in a new phase of tech-powered growth and prosperity in Nigeria by training and deploying an army of leader-developers.")),r.createElement("div",{className:"btn-container"},r.createElement("h1",null,"Welcome To Fin-Track"),r.createElement("h3",null,"Please Login"),r.createElement("button",{className:"btn",onClick:()=>{console.log("am here"),location.replace("https://fintrackbteam.herokuapp.com/login")}},"Login")));const Te=i((e=>s({root:{height:300,flexGrow:1,minWidth:300,transform:"translateZ(0)","@media all and (-ms-high-contrast: none)":{display:"none"}},modal:{display:"flex",padding:e.spacing(1),alignItems:"center",justifyContent:"center"},alert:{width:"30%",padding:"20px 120px","& > * + *":{marginTop:e.spacing(2)},[e.breakpoints.down(600)]:{padding:"20px 10px",width:"70%"}},App:{display:"flex",justifyContent:"center",paddingLeft:"250px",paddingTop:"60px",alignItems:"center",color:"rgb(0,0,0)",[e.breakpoints.down(800)]:{padddingLeft:"150px"},[e.breakpoints.down(600)]:{paddingLeft:"0px"}},header:{background:"rgb(40,41,64)",color:"#fff",padding:"2.5rem 0rem",textAlign:"center",fontSize:"1.7rem",[e.breakpoints.down(600)]:{fontSize:"20px"}},cardRequest:{width:"65rem",[e.breakpoints.down(600)]:{marginTop:"30px"}},formField:{[e.breakpoints.down(600)]:{height:"40px"}},label:{[e.breakpoints.down(600)]:{fontSize:"10px"}},cardBody:{background:"#fff",paddingBottom:"70px",[e.breakpoints.down(600)]:{paddingTop:"50px"}},submitBtn:{display:"block",marginTop:"20px",fontSize:"17px",width:"16rem",marginLeft:"20rem",[e.breakpoints.down(900)]:{marginLeft:"10rem",marginTop:"40px",width:"12rem"},[e.breakpoints.down(600)]:{fontSize:"10px",marginLeft:"4rem",width:"5rem"}},controlBtn:{[e.breakpoints.down(600)]:{fontSize:"18px"}}}))),Le={email:"",title:"",description:"",request:"",amount:"",status:"",approvers:[],image_url:""},Ae=()=>{const e=Te();r.useState(!1);const[t,a]=r.useState(Le),[n,o]=r.useState(!1),[i,s]=r.useState(!1),x=document.cookie.split("=")[1];let y=c(x),w=y.allUser.email;const v=e=>{const{files:n}=e.target;if(n){console.log("i am here");const e="https://api.cloudinary.com/v1_1/omecloudinary/upload",o=new FormData;o.append("file",n[0]),o.append("upload_preset","upload"),fetch(e,{method:"POST",body:o}).then((e=>e.json())).then((e=>{a(l(l({},t),{image_url:e.secure_url}))}))}else if("approvers"===e.target.name){const{value:n,name:o}=e.target;a(l(l({},t),{[o]:[...Le.approvers,n]}))}else{const{value:n,name:o}=e.target;a(l(l({},t),{[o]:n}))}};y.allUser.name;let C=w.split(".")[0];console.log(C);let k=y.allUser.role;console.log(k,w),console.log(t.email);return r.createElement("div",{className:e.App},r.createElement(m,{bg:"white",className:e.cardRequest},r.createElement(m.Header,{className:e.header},r.createElement("b",null,"Create Request")),r.createElement(m.Body,{className:e.cardBody},r.createElement(p,{action:"",onSubmit:async e=>{e.preventDefault();fetch("http://localhost:3000/userrequest",{mode:"cors",method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+x}}).then((e=>e.json())),t.email!==w?s(!0):o(!0),a(Le)}},!0===i?r.createElement("div",null,r.createElement(d,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:i,onClose:()=>{s(!1)},closeAfterTransition:!0,BackdropComponent:u,BackdropProps:{timeout:500}},r.createElement(g,{in:i},r.createElement(h,{severity:"error",className:e.alert},r.createElement(E,null,"Error"),r.createElement("strong",null,"Invalid email, you cannot create request for someone else!"))))):r.createElement("div",null,r.createElement(f,{to:"/user"},r.createElement(d,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n,onClose:()=>{o(!1)},closeAfterTransition:!0,BackdropComponent:u,BackdropProps:{timeout:500}},r.createElement(g,{in:n},r.createElement(h,{severity:"success",className:e.alert},r.createElement(E,null,"Success"),r.createElement("strong",null,"Request created!")))))),r.createElement(p.Group,null,r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Email"),r.createElement(p.Control,{name:"email",value:t.email,onChange:e=>v(e),type:"text",required:!0,className:e.formField})),r.createElement(p.Group,null,r.createElement(p.Label,{style:{paddingTop:"40px"},className:e.label},"Title"),r.createElement(p.Control,{name:"title",value:t.title,onChange:e=>v(e),type:"text",required:!0,className:e.formField})),r.createElement(p.Group,{controlId:"exampleForm.ControlTextarea1"},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Description"),r.createElement(p.Control,{name:"description",value:t.description,onChange:e=>v(e),as:"textarea",rows:3,required:!0,className:e.formField})),r.createElement(p.Group,{controlId:"exampleForm.ControlSelect1"},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Requests"),r.createElement(p.Control,{name:"request",value:t.request,className:e.formField,onChange:e=>v(e),as:"select"},r.createElement("option",null,"Type of Request"),r.createElement("option",null,"Refund"),r.createElement("option",null,"Invoice"),r.createElement("option",null,"Loan"),r.createElement("option",null,"Upfront"),r.createElement("option",null,"Stipend"),r.createElement("option",null,"Others"))),r.createElement(p.Group,{controlId:"exampleForm.ControlSelect1"},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Amount"),r.createElement(p.Control,{name:"amount",value:t.amount,onChange:e=>v(e),type:"text",required:!0,className:e.formField})),r.createElement(p.Group,{controlId:"exampleForm.ControlSelect1"},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Status"),r.createElement(p.Control,{name:"status",value:t.status,className:e.formField,onChange:e=>v(e),as:"select"},r.createElement("option",null,"Status"),r.createElement("option",null,"Pending"))),r.createElement(p.Group,{style:{paddingBottom:"30px"}},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Approvers"),r.createElement(p.Control,{name:"approvers",value:t.approvers,className:e.formField,onChange:e=>v(e),type:"text",required:!0})),r.createElement(p.Group,{style:{position:"relative",width:"130px",height:"40px",border:"1px solid green",background:"white",display:"flex",alignItems:"center",justifyContent:"center",color:"green",fontWeight:"normal",cursor:"pointer",paddingTop:"5px",fontSize:"14px"}},r.createElement(p.Label,{className:e.controlBtn},"Upload Invoice"),r.createElement(p.Control,{className:e.controlBtn,style:{width:"100px",position:"absolute",opacity:"0"},type:"file",accept:"image/*",id:"single",onChange:e=>v(e)})),r.createElement(b,{className:e.submitBtn,type:"submit",variant:"success"},"Submit")))))},ze=x({paper:{border:"1px solid #d3d4d5"}})((e=>r.createElement(y,l({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e)))),qe=x((e=>({root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}})))(w);function Re(){const[e,t]=r.useState(null);return r.createElement("div",null,r.createElement(v,{"aria-controls":"customized-menu","aria-haspopup":"true",color:"secondary",onClick:e=>{t(e.currentTarget)}},r.createElement(C,{fontSize:"large"})),r.createElement(ze,{id:"customized-menu",anchorEl:e,keepMounted:!0,open:Boolean(e),onClose:()=>{t(null)}},r.createElement(f,{to:"/user"},r.createElement(qe,null,r.createElement(k,null,r.createElement(N,{fontSize:"small"})),r.createElement(S,{primary:"Dashboard"}))),r.createElement(f,{to:"/request"},r.createElement(qe,null,r.createElement(k,null,r.createElement(T,{fontSize:"small"})),r.createElement(S,{primary:"Create Requests"}))),r.createElement(f,{to:"/"},r.createElement(qe,null,r.createElement(k,null,r.createElement(L,{fontSize:"small"})),r.createElement(S,{primary:"Logout"})))))}const Be=i((e=>s({root:{},appBar:{backgroundColor:"white",[e.breakpoints.down(600)]:{marginLeft:240,backgroundColor:"black"}},menuButton:{color:"blue",borderRadius:"28px",border:"2px solid grey",width:"60px",fontSize:"20px",backgroundColor:"white",justifyContent:"center",[e.breakpoints.down(600)]:{width:"65px",fontSize:"30px",backgroundColor:"red"}},arrowButton:{color:"blue",fontSize:"20px",backgroundColor:"white",justifyContent:"center",cursor:"pointer",[e.breakpoints.down(600)]:{fontSize:"70px",color:"white",backgroundColor:"black"}},toolBar:{marginLeft:"1300px",position:"absolute",[e.breakpoints.down(800)]:{marginLeft:"970px",position:"absolute",fontSize:"10px"}},image:{color:"white",fontSize:"35px"},navhead:{display:"flex",color:"red",fontSize:"60px"}})));function De(){let e=document.cookie.split("=")[1],t=c(e).allUser.email.split("."),a=t[0],n=t[1],o=(a[0]+n[0]).toUpperCase();const l=Be(),[i,s]=r.useState(!0),[m,p]=r.useState(null),d=Boolean(m),u=()=>{p(null)};return r.createElement("div",{className:l.root},r.createElement(A,{position:"fixed",className:l.appBar},r.createElement(z,null,r.createElement(q,{smUp:!0,implementation:"css"},r.createElement("div",{className:l.navhead},r.createElement(Re,null),r.createElement("img",{className:l.image,src:"https://decagon-clever.netlify.app/img/logo-white.svg"}))),i&&r.createElement("div",{className:l.toolBar},r.createElement(R,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",className:l.menuButton},o),r.createElement(B,{className:l.arrowButton,onClick:e=>{p(e.currentTarget)}}),r.createElement(y,{id:"menu-appbar",anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:d,onClose:u},r.createElement(f,{to:"/",style:{textDecoration:"none"}},r.createElement(w,{onClick:u},"Logout")))))))}const Ue=i((e=>s({drawer:{[e.breakpoints.up("sm")]:{width:240,flexShrink:0}},toolbar:e.mixins.toolbar,drawerPaper:{backgroundColor:"#262737",width:240,color:"white"},image:{margin:"40px"},content:{marginTop:20},icon:{color:"white",marginLeft:20},head:{margin:"40px"},dashboard:{display:"flex",color:"white"},dashIcon:{marginRight:"20px"}}))),Ie=x((e=>({root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}})))(w);function je(e){const{window:t}=e,a=Ue(),n=D(),[o,l]=r.useState(!1);let i=document.cookie.split("=")[1],s=c(i).allUser.role;function m(){const e=document.cookie.split("=")[0];e&&(document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT")}const p=r.createElement("div",null,r.createElement("div",{className:a.toolbar}),r.createElement("img",{className:a.image,src:"https://decagon-clever.netlify.app/img/logo-white.svg"}),"admin"===s?r.createElement(U,{className:a.content},["Admin Dashboard","Analytics","Create Request","Update User","Logout"].map(((e,t)=>r.createElement(I,{button:!0,key:e},r.createElement(k,{className:a.icon},"Admin Dashboard"==e?r.createElement(f,{to:"/admin",className:a.dashboard,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(N,{className:a.dashIcon}),r.createElement(S,{primary:e}))):"Analytics"==e?r.createElement(f,{to:"/analytics",className:a.dashboard,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(j,{className:a.dashIcon}),r.createElement(S,{primary:e}))):"Create Request"==e?r.createElement(f,{to:"/adminrequest",className:a.dashboard,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(T,{className:a.dashIcon}),r.createElement(S,{primary:e}))):"Update User"==e?r.createElement(f,{to:"/update",className:a.dashboard,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(_,{className:a.dashIcon}),r.createElement(S,{primary:e}))):r.createElement(f,{to:"/",className:a.dashboard,style:{textDecoration:"none",marginLeft:"15px"},onClick:()=>m()},r.createElement(L,{className:a.dashIcon}),r.createElement(S,{primary:e}))))))):"user"===s?r.createElement(U,{className:a.content},["Dashboard","Create Request","Logout"].map(((e,t)=>r.createElement(I,{button:!0,key:e},r.createElement(k,{className:a.icon},"Dashboard"==e?r.createElement(f,{to:"/user",className:a.dashboard,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(N,{className:a.dashIcon}),r.createElement(S,{primary:e}))):"Create Request"==e?r.createElement(f,{to:"/request",className:a.dashboard,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(T,{className:a.dashIcon}),r.createElement(S,{primary:e}))):r.createElement(f,{to:"/",className:a.dashboard,onClick:m,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(L,{className:a.dashIcon}),r.createElement(S,{primary:e})))))))):r.createElement(U,{className:a.content},["Dashboard","Create Request","Logout"].map(((e,t)=>r.createElement(I,{button:!0,key:e},r.createElement(k,{className:a.icon},"Dashboard"==e?r.createElement(f,{to:"/agent",className:a.dashboard,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(N,{className:a.dashIcon}),r.createElement(S,{primary:e}))):"Create Request"==e?r.createElement(f,{to:"/adminrequest",className:a.dashboard,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(T,{className:a.dashIcon}),r.createElement(S,{primary:e}))):r.createElement(f,{to:"/",className:a.dashboard,onClick:m,style:{textDecoration:"none"}},r.createElement(Ie,null,r.createElement(L,{className:a.dashIcon}),r.createElement(S,{primary:e}))))))))),d=void 0!==t?()=>t().document.body:void 0;return r.createElement("nav",{className:a.drawer},r.createElement(q,{smUp:!0,implementation:"css"},r.createElement(F,{container:d,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:o,onClose:()=>{l(!o)},classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},p)),r.createElement(q,{xsDown:!0,implementation:"css"},r.createElement(F,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},p)))}class _e extends r.Component{render(){return r.createElement(r.Fragment,null,r.createElement(Ae,null),r.createElement(De,null),r.createElement(je,null))}}const Fe=i((e=>s({root:{height:300,flexGrow:1,minWidth:300,transform:"translateZ(0)","@media all and (-ms-high-contrast: none)":{display:"none"}},modal:{display:"flex",padding:e.spacing(1),alignItems:"center",justifyContent:"center"},alert:{width:"30%",padding:"20px 120px","& > * + *":{marginTop:e.spacing(2)}},App:{display:"flex",justifyContent:"center",paddingLeft:"250px",paddingTop:"60px",alignItems:"center",color:"rgb(0,0,0)",[e.breakpoints.down(800)]:{padddingLeft:"150px"},[e.breakpoints.down(600)]:{paddingLeft:"0px"}},header:{background:"rgb(40,41,64)",color:"#fff",padding:"2.5rem 0rem",textAlign:"center",fontSize:"1.7rem",[e.breakpoints.down(600)]:{fontSize:"20px"}},cardRequest:{width:"65rem",[e.breakpoints.down(600)]:{marginTop:"30px"}},formField:{[e.breakpoints.down(600)]:{height:"40px"}},label:{[e.breakpoints.down(600)]:{fontSize:"10px"}},cardBody:{background:"#fff",paddingBottom:"70px",[e.breakpoints.down(600)]:{paddingTop:"50px"}},submitBtn:{display:"block",marginTop:"20px",fontSize:"17px",width:"16rem",marginLeft:"20rem",[e.breakpoints.down(900)]:{marginLeft:"10rem",marginTop:"40px",width:"12rem"},[e.breakpoints.down(600)]:{fontSize:"10px",marginLeft:"4rem",width:"5rem"}},controlBtn:{[e.breakpoints.down(600)]:{fontSize:"18px"}}}))),Oe={email:"",title:"",description:"",request:"",amount:"",status:"",approvers:[],image_url:""},Pe=()=>{const e=Fe();r.useState(!1);const[t,a]=r.useState(Oe),[n,o]=r.useState(!1),i=document.cookie.split("=")[1];let s=c(i),x=s.allUser.email;const y=e=>{const{files:n}=e.target;if(n){const e="https://api.cloudinary.com/v1_1/omecloudinary/upload",o=new FormData;o.append("file",n[0]),o.append("upload_preset","upload"),fetch(e,{method:"POST",body:o}).then((e=>e.json())).then((e=>{a(l(l({},t),{image_url:e.secure_url}))}))}else if("approvers"===e.target.name){const{value:n,name:o}=e.target;a(l(l({},t),{[o]:[...Oe.approvers,n]}))}else{const{value:n,name:o}=e.target;a(l(l({},t),{[o]:n}))}};s.allUser.name;let w=x.split(".")[0];console.log(w);let v=s.allUser.role;console.log(v,x),console.log(t.email);return r.createElement("div",{className:e.App},r.createElement(m,{bg:"white",className:e.cardRequest},r.createElement(m.Header,{className:e.header},r.createElement("b",null,"Create Request")),r.createElement(m.Body,{className:e.cardBody},r.createElement(p,{action:"",onSubmit:async e=>{e.preventDefault();fetch("http://localhost:3000/userrequest",{mode:"cors",method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+i}}).then((e=>e.json())),o(!0),a(Oe)}},r.createElement("div",null,r.createElement(f,{to:"/admin"},r.createElement(d,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:n,onClose:()=>{o(!1)},closeAfterTransition:!0,BackdropComponent:u,BackdropProps:{timeout:500}},r.createElement(g,{in:n},r.createElement(h,{severity:"success",className:e.alert},r.createElement(E,null,"Success"),r.createElement("strong",null,"Request created!")))))),r.createElement(p.Group,null,r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Email"),r.createElement(p.Control,{name:"email",value:t.email,onChange:e=>y(e),type:"text",required:!0,className:e.formField})),r.createElement(p.Group,null,r.createElement(p.Label,{style:{paddingTop:"40px"},className:e.label},"Title"),r.createElement(p.Control,{name:"title",value:t.title,onChange:e=>y(e),type:"text",required:!0,className:e.formField})),r.createElement(p.Group,{controlId:"exampleForm.ControlTextarea1"},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Description"),r.createElement(p.Control,{name:"description",value:t.description,onChange:e=>y(e),as:"textarea",rows:3,required:!0,className:e.formField})),r.createElement(p.Group,{controlId:"exampleForm.ControlSelect1"},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Requests"),r.createElement(p.Control,{name:"request",value:t.request,className:e.formField,onChange:e=>y(e),as:"select"},r.createElement("option",null,"Type of Request"),r.createElement("option",null,"Refund"),r.createElement("option",null,"Invoice"),r.createElement("option",null,"Loan"),r.createElement("option",null,"Upfront"),r.createElement("option",null,"Stipend"),r.createElement("option",null,"Others"))),r.createElement(p.Group,{controlId:"exampleForm.ControlSelect1"},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Amount"),r.createElement(p.Control,{name:"amount",value:t.amount,onChange:e=>y(e),type:"text",required:!0,className:e.formField})),r.createElement(p.Group,{controlId:"exampleForm.ControlSelect1"},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Status"),r.createElement(p.Control,{name:"status",value:t.status,className:e.formField,onChange:e=>y(e),as:"select"},r.createElement("option",null,"Status"),r.createElement("option",null,"Pending"),r.createElement("option",null,"Needs Approval"),r.createElement("option",null,"Approved"),r.createElement("option",null,"Resolved"),r.createElement("option",null,"Canceled"))),r.createElement(p.Group,{style:{paddingBottom:"30px"}},r.createElement(p.Label,{style:{paddingTop:"20px"},className:e.label},"Approvers"),r.createElement(p.Control,{name:"approvers",value:t.approvers,className:e.formField,onChange:e=>y(e),type:"text",required:!0})),r.createElement(p.Group,{style:{position:"relative",width:"130px",height:"40px",border:"1px solid green",background:"white",display:"flex",alignItems:"center",justifyContent:"center",color:"green",fontWeight:"normal",cursor:"pointer",paddingTop:"5px",fontSize:"14px"}},r.createElement(p.Label,{className:e.controlBtn},"Upload Invoice"),r.createElement(p.Control,{className:e.controlBtn,style:{width:"100px",position:"absolute",opacity:"0"},type:"file",accept:"image/*",id:"single",onChange:e=>y(e)})),r.createElement(b,{className:e.submitBtn,type:"submit",variant:"success"},"Submit")))))};class We extends r.Component{render(){return r.createElement(r.Fragment,null,r.createElement(Pe,null),r.createElement(De,null),r.createElement(je,null))}}const Ge=i((e=>({table:{[e.breakpoints.up(960)]:{}},contain:{margin:"0 40px",border:0},textarea:{resize:"none",overflow:"hidden",width:"100%",minHeight:"50px",padding:"2px",lineHeight:"13px",fontSize:"13px"},container:{padding:e.spacing(3)},image:{marginRight:"10px",width:"50px",height:"50px",borderRadius:"70px"},filebtn:{maxWidth:"30%",marginLeft:"1.2%"},sub:{display:"flex"},btn:{fontSize:"10px",width:"80px"},nav_bar:{display:"flex"},modal:{display:"flex",alignItems:"center",justifyContent:"center",opacity:"1"},paper:{backgroundColor:e.palette.background.paper,border:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),margin:"50px 345px",borderRadius:"10px"},head_info:{display:"flex",margin:"30px 0"},time:{fontSize:"0.5rem"},date:{fontSize:"0.7rem",paddingTop:"18px"},title:{margin:"20px 50px"},para:{margin:"20px 0"},price:{margin:"20px 0"},btn_modal:{margin:"20px 0"},btn_m:{margin:"20px 20px"},image_modal:{marginRight:"10px",width:"20%"},email:{fontSize:"10px",[e.breakpoints.down(800)]:{}},titles:{fontSize:"12px",[e.breakpoints.down(800)]:{}},amount:{fontSize:"12px",[e.breakpoints.down(800)]:{}},status:{fontSize:"5px",[e.breakpoints.down(800)]:{}},non:{paddingLeft:"300px",paddingTop:"100px",fontWeight:800,fontSize:"20px",color:"red"},formControl:{minWidth:120,marginTop:"30px"},statusbtn:{marginTop:"60px",marginLeft:"30px"}}))),Me={status:""},$e={title:"",description:"",request:"",amount:"",approvers:[],image_url:""},Je=O({palette:{primary:{main:"#000C66"},secondary:{main:"#FAD02C"},error:{main:"#4a148c"},info:{main:"#050A30"},warning:{main:"#BC211D"},success:{main:"#116530"}}});function He(){const e=Ge(),[t,a]=r.useState([]),[n,o]=r.useState(Me),[i,s]=r.useState(!1),[m,p]=r.useState(!1),[E,f]=r.useState(!1),[b,x]=r.useState($e),[y,w]=r.useState([]),[C,k]=r.useState(!1),[N,S]=r.useState("");r.useState("");let T=document.cookie.split("=")[1],L=c(T).allUser.name,A=L.split(" ")[1];console.log(A);const[z,q]=r.useState(0),[R,B]=r.useState(5),D=e=>{const a=t.find((t=>t._id==e));w(a),s(!0)},U=e=>{const{value:t,name:a}=e.target;console.log(a),x(l(l({},b),{[a]:t}))};console.log(b);r.useEffect((()=>{!async function(){let e=await(async()=>{try{return(await fetch("http://localhost:3000/allRequest",{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+T}})).json()}catch(e){console.error(e)}})();a(e.data)}()}),[n,o]);const I=async()=>{if(n.status){const e=`http://localhost:3000/updaterequest/${y._id}`;await fetch(e,{mode:"cors",method:"PATCH",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8",Accept:"application/json",Authorization:"Bearer "+T}}).then((e=>e)),k(!0),o(Me)}};r.useEffect((()=>{I()}),[o]);const[j,_]=r.useState(""),[F,O]=r.useState(!1),re=async()=>{const e=`http://localhost:3000/closerequest/${y._id}`;await fetch(e,{mode:"cors",method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",Accept:"application/json",Authorization:"Bearer "+T}}).then((e=>{_("i am here")})),O(!1),window.location.reload()};r.useEffect((()=>{re(),o(Me)}),[]);const ie=async e=>{const t=`http://localhost:3000/updaterequest/${N}`;await fetch(t,{mode:"cors",method:"PATCH",body:JSON.stringify(b),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+T}}).then((e=>e)),f(!1),x($e),window.location.reload()},[se,ce]=r.useState(""),me=null==t?void 0:t.filter((e=>{var t,a,n;return(null==(t=null==e?void 0:e.title)?void 0:t.toLowerCase().includes(null==se?void 0:se.toLowerCase()))||(null==(a=null==e?void 0:e.status)?void 0:a.toLowerCase().includes(null==se?void 0:se.toLowerCase()))||(null==(n=null==e?void 0:e.email)?void 0:n.toLowerCase().includes(null==se?void 0:se.toLowerCase()))}));return me&&0!==me.length?r.createElement(r.Fragment,null,r.createElement(P,{in:F},r.createElement(h,{onClick:()=>re()},"confirm delete!",r.createElement(W,{style:{marginLeft:"600px",cursor:"pointer"}}))),r.createElement("div",{className:e.contain},r.createElement(G,{id:"outlined-basic",variant:"outlined",label:"Search Request...",onChange:e=>{ce(e.target.value)}}),r.createElement(M,{className:e.table,"aria-label":"sticky table"},r.createElement($,null,r.createElement(J,null,r.createElement(H,null,"Title"),r.createElement(H,{align:"left"},"Users"),r.createElement(H,{align:"right"},"Status"),r.createElement(H,{align:"right"},"Amount(N)"),r.createElement(H,{align:"right"},"Date Created"),r.createElement(H,{align:"right"}),r.createElement(H,{align:"right"}))),r.createElement(Y,null,me.slice(z*R,z*R+R).map((a=>r.createElement(J,{key:a._id,style:{cursor:"pointer"}},r.createElement(H,{component:"th",scope:"row",className:e.titles,onClick:()=>D(a._id)},r.createElement("img",{className:e.image,src:a.image_url}),a.title),r.createElement(H,{align:"right",className:e.email,onClick:()=>D(a._id)},a.email.split(".")[0]),r.createElement(H,{align:"right",className:e.status,onClick:()=>D(a._id)},function(t){let a="";return"Pending"===t?a="secondary":"Needs Approval"===t?a="primary":"Approved"===t?a="#116530":"Resolved"===t?a="info":"Canceled"===t&&(a="warning"),r.createElement(V,{theme:Je},r.createElement(v,{variant:"contained",color:a,className:e.btn},t))}(a.status)),r.createElement(H,{align:"right",className:e.amount,onClick:()=>D(a._id)},Number(a.amount).toLocaleString("en-NG",{style:"currency",currency:"NGN"})),r.createElement(H,{align:"right",onClick:()=>D(a._id)},function(t){let a=new Date(t),n=a.getFullYear();a.getHours(),a.getSeconds(),a.getMinutes();let o=["Jan","Feb","March","April","May","June","July","August","Sept","Oct","Nov","Dec"][a.getMonth()],l=a.getDate();return l<10&&(l="0"+l),r.createElement(r.Fragment,null,r.createElement("p",{className:e.date},o," ",l,",",n," "))}(a.createdAt)),r.createElement(H,{align:"right",onClick:()=>{return e=a._id,S(e),console.log(e),void p(!0);var e}},r.createElement(Z,null)),r.createElement(H,{align:"right",onClick:()=>(e=>{const a=t.find((t=>t._id==e));w(a),O(!0)})(a._id),style:{color:"blue"}},r.createElement(K,null))))))),r.createElement(Q,{rowsPerPageOptions:[5,10,20],component:"div",count:t.length,rowsPerPage:R,page:z,onChangePage:(e,t)=>{q(t)},onChangeRowsPerPage:e=>{B(+e.target.value),q(0)}}),r.createElement("div",null,r.createElement(d,{key:y._id,"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:i,onClose:()=>{s(!1)},closeAfterTransition:!0,BackdropComponent:u,BackdropProps:{timeout:500}},r.createElement(g,{in:i},r.createElement("div",{className:e.paper},r.createElement("div",{className:e.head_info},r.createElement("h4",null,L)),r.createElement(d,{open:C},r.createElement(h,{onClose:()=>{k(!1)}},"status updated successfully!")),r.createElement(X,{variant:"middle"}),r.createElement("h2",{className:e.title},y.title),r.createElement("img",{className:e.image_modal,src:y.image_url,style:{width:"37rem",marginLeft:"3rem"}}),r.createElement(ee,{className:e.formControl},r.createElement(te,{htmlFor:"age-native-helper"},"Status"),r.createElement(ae,{value:n.status,onChange:e=>{const{value:t,name:a}=e.target;o(l(l({},n),{[a]:t}))},inputProps:{name:"status",id:"age-native-helper"}},r.createElement("option",{"aria-label":"None",value:""}),r.createElement("option",null,"Pending"),r.createElement("option",null,"Approved"),r.createElement("option",null,"Needs Approval"),r.createElement("option",null,"Resolved"),r.createElement("option",null,"Canceled")),r.createElement(ne,null,r.createElement("strong",null,"Upgrade request status"))),r.createElement(v,{onClick:()=>I(),variant:"contained",color:"primary",className:e.statusbtn},"Update"),r.createElement(v,{value:y._id,href:"/comment/"+y._id,variant:"contained",style:{fontWeight:"bold",marginLeft:"29rem"},className:e.btn_m},"Request Details"))))),r.createElement("div",null,r.createElement(d,{key:y._id,"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:m,onClose:()=>{p(!1)},closeAfterTransition:!0,BackdropComponent:u,BackdropProps:{timeout:500}},r.createElement(g,{in:m},r.createElement("div",{className:e.paper},r.createElement("form",{className:e.formControl,autoComplete:"off"},r.createElement(P,{in:E},r.createElement(h,{onClick:()=>ie()},"Update successful",r.createElement(W,{style:{marginLeft:"600px",cursor:"pointer"}}))),r.createElement("h4",null,"Make Edit To Your Request"),r.createElement(oe,{container:!0,spacing:3},r.createElement(oe,{item:!0,xs:12},r.createElement(oe,{container:!0,spacing:2},r.createElement(oe,{item:!0,xs:12},r.createElement(G,{fullWidth:!0,label:"Title",name:"title",value:b.title,onChange:e=>U(e),size:"small",type:"text",variant:"outlined"})),r.createElement(oe,{item:!0,xs:12},r.createElement(G,{fullWidth:!0,label:"Approvers",name:"approvers",value:b.approvers,onChange:e=>U(e),size:"small",type:"text",variant:"outlined"})),r.createElement(oe,{item:!0,xs:12},r.createElement(G,{fullWidth:!0,label:"Amount",name:"amount",value:b.amount,onChange:e=>U(e),size:"small",type:"number",variant:"outlined"})),r.createElement(oe,{item:!0,xs:12},r.createElement(te,{htmlFor:"age-native-helper"},"Request Type"),r.createElement(ae,{value:b.request,onChange:e=>U(e),inputProps:{name:"request",id:"age-native-helper"}},r.createElement("option",{"aria-label":"None",value:""}),r.createElement("option",null,"Refund"),r.createElement("option",null,"Invoice"),r.createElement("option",null,"Loan"),r.createElement("option",null,"Upfront"),r.createElement("option",null,"Stipend"),r.createElement("option",null,"Others"))),r.createElement(oe,{item:!0,xs:12},r.createElement(le,{name:"description",value:b.description,onChange:e=>U(e),className:e.textarea,"aria-label":"maximum height",rowsMin:3,placeholder:"Description of your request"})))),r.createElement(oe,{item:!0,xs:12},r.createElement(v,{color:"primary",fullWidth:!0,variant:"contained",onClick:()=>{f(!0)}},"Update Request")))))))))):r.createElement("p",{className:e.non},"No requests yet...")}const Ye=i((e=>s({list:{marginTop:55,paddingLeft:"70px",width:"260px",[e.breakpoints.down(600)]:{width:"350px"}},header:{[e.breakpoints.down(600)]:{display:"flex",justifyContent:"center"}},listh1:{fontSize:"15px",color:"grey",fontWeight:600,[e.breakpoints.down(600)]:{fontSize:"50px",marginRight:"280px"}},listh2:{fontSize:"25px",fontWeight:800,[e.breakpoints.down(600)]:{fontSize:"50px"}},req:{fontSize:"12px",fontWeight:800,color:"grey",[e.breakpoints.down(600)]:{fontSize:"20px"}},edu:{fontSize:"12px",fontWeight:800,marginTop:"40px",marginBottom:"20px",[e.breakpoints.down(600)]:{fontSize:"35px",marginRight:-300}},div:{width:"90%",height:"5px",[e.breakpoints.down(600)]:{width:"350%",height:"5px",marginLeft:-300}},appr:{paddingLeft:"73px",[e.breakpoints.down(600)]:{paddingLeft:"250px"}},pend:{paddingLeft:"85px",[e.breakpoints.down(600)]:{paddingLeft:"270px"}},needs:{paddingLeft:"40px",[e.breakpoints.down(600)]:{paddingLeft:"150px"}},can:{paddingLeft:"80px",[e.breakpoints.down(600)]:{paddingLeft:"260px"}},other:{paddingLeft:"83px",[e.breakpoints.down(600)]:{paddingLeft:"260px"}},summail:{[e.breakpoints.down(600)]:{marginLeft:-120}}})));function Ve(){const e=Ye(),[t,a]=r.useState([]);let n=document.cookie.split("=")[1];r.useEffect((()=>{!async function(){let e=await(async()=>{try{return(await fetch("http://localhost:3000/allRequest",{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+n}})).json()}catch(e){console.error(e)}})();a(e.data),console.log(e)}()}),[]);const o=t.length;return console.log(o),r.createElement("div",{className:e.list},r.createElement("div",{className:e.header},r.createElement("h1",{className:e.listh1},"SHORT SUMMARY"),r.createElement("h2",{className:e.listh2},o,r.createElement("span",{className:e.req},"Request ",r.createElement(re,null)))),r.createElement(X,{variant:"middle",className:e.div}),r.createElement("div",{className:e.summail},r.createElement("li",{className:e.edu},"Approved",r.createElement("span",{className:e.appr},function(){let e=0;t.map((t=>{"Approved"===t.status&&e++}));let a=e/o*100;return a=parseInt(a),`${a}%`}())),r.createElement("li",{className:e.edu},"Pending",r.createElement("span",{className:e.pend},function(){let e=0;t.map((t=>{"Pending"===t.status&&e++})),console.log(e);let a=e/o*100;return a=parseInt(a),`${a}%`}())),r.createElement("li",{className:e.edu},"Needs Approval",r.createElement("span",{className:e.needs},function(){let e=0;t.map((t=>{"Needs Approval"===t.status&&e++}));let a=e/o*100;return a=parseInt(a),`${a}%`}())),r.createElement("li",{className:e.edu},"Resolved",r.createElement("span",{className:e.other},function(){let e=0;t.map((t=>{"Resolved"===t.status&&e++}));let a=e/o*100;return a=parseInt(a),`${a}%`}())),r.createElement("li",{className:e.edu},"Canceled",r.createElement("span",{className:e.can},function(){let e=0;t.map((t=>{"Canceled"===t.status&&e++}));let a=e/o*100;return a=parseInt(a),`${a}%`}()))))}const Ze=x({paper:{border:"1px solid #d3d4d5"}})((e=>r.createElement(y,l({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e)))),Ke=x((e=>({root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}})))(w);function Qe(){const[e,t]=r.useState(null);return r.createElement("div",null,r.createElement(v,{"aria-controls":"customized-menu","aria-haspopup":"true",color:"secondary",onClick:e=>{t(e.currentTarget)}},r.createElement(C,{fontSize:"large"})),r.createElement(Ze,{id:"customized-menu",anchorEl:e,keepMounted:!0,open:Boolean(e),onClose:()=>{t(null)}},r.createElement(f,{to:"/admin"},r.createElement(Ke,null,r.createElement(k,null,r.createElement(N,{fontSize:"small"})),r.createElement(S,{primary:"Dashboard"}))),r.createElement(f,{to:"/request"},r.createElement(Ke,null,r.createElement(k,null,r.createElement(T,{fontSize:"small"})),r.createElement(S,{primary:"Create Requests"}))),r.createElement(f,{to:"/analytics"},r.createElement(Ke,null,r.createElement(k,null,r.createElement(j,{fontSize:"small"})),r.createElement(S,{primary:"Analytics"}))),r.createElement(f,{to:"/"},r.createElement(Ke,null,r.createElement(k,null,r.createElement(L,{fontSize:"small"})),r.createElement(S,{primary:"Logout"})))))}const Xe=i((e=>s({root:{},appBar:{backgroundColor:"white",[e.breakpoints.down(600)]:{marginLeft:240,backgroundColor:"black"}},menuButton:{color:"blue",borderRadius:"28px",border:"2px solid grey",width:"60px",fontSize:"20px",backgroundColor:"white",justifyContent:"center",[e.breakpoints.down(700)]:{width:"65px",fontSize:"30px"}},arrowButton:{color:"blue",fontSize:"20px",backgroundColor:"white",justifyContent:"center",cursor:"pointer",[e.breakpoints.down(600)]:{fontSize:"70px",color:"white",backgroundColor:"black"}},toolBar:{marginLeft:"1300px",position:"absolute",[e.breakpoints.down(800)]:{marginLeft:"970px",position:"absolute",fontSize:"10px"}},image:{color:"white",fontSize:"35px"},navhead:{display:"flex",color:"red",fontSize:"60px"}})));function et(){let e=document.cookie.split("=")[1],t=c(e).allUser.email.split("."),a=t[0],n=t[1],o=(a[0]+n[0]).toUpperCase();const l=Xe(),[i,s]=r.useState(!0),[m,p]=r.useState(null),d=Boolean(m),u=()=>{p(null)};return r.createElement("div",{className:l.root},r.createElement(A,{position:"fixed",className:l.appBar},r.createElement(z,null,r.createElement(q,{smUp:!0,implementation:"css"},r.createElement("div",{className:l.navhead},r.createElement(Qe,null),r.createElement("img",{className:l.image,src:"https://decagon-clever.netlify.app/img/logo-white.svg"}))),i&&r.createElement("div",{className:l.toolBar},r.createElement(R,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",className:l.menuButton},o),r.createElement(B,{className:l.arrowButton,onClick:e=>{p(e.currentTarget)}}),r.createElement(y,{id:"menu-appbar",anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:d,onClose:u},r.createElement(f,{to:"/",style:{textDecoration:"none"}},r.createElement(w,{onClick:u},"Logout")))))))}const tt=i((e=>s({root:{backgroundColor:"rgba(255, 255, 255, 0.05)"},toolbar:e.mixins.toolbar,drawerPaper:{backgroundColor:"#050A30",width:240,color:"white"},content:{display:"flex",flexDirection:"column",flexGrow:1,justifyContent:"center"},app:{display:"flex",placeItems:"top",paddingLeft:"270px",paddingRight:"100px",paddingTop:"10px",[e.breakpoints.down(600)]:{display:"grid",paddingLeft:"10px",paddingTop:"50px"}},app_body:{backgroundColor:"white",width:"250%",borderRadius:"10px",[e.breakpoints.down(600)]:{width:"180%"}},head:{margin:"40px"},sum:{[e.breakpoints.down(600)]:{justifyContent:"center",marginLeft:"340px",marginTop:"10%"}},colored:{color:"#388e3c",fontSize:"1.2rem"},flexed:{display:"flex",flexDirection:"column",paddingTop:"7%",paddingLeft:"19%",[e.breakpoints.down(1400)]:{paddingTop:"7%",paddingLeft:"22%"},[e.breakpoints.down(1200)]:{paddingTop:"7%",paddingLeft:"25%"},[e.breakpoints.down(1e3)]:{paddingTop:"7%",paddingLeft:"27%"},[e.breakpoints.down(930)]:{paddingTop:"9%",paddingLeft:"30%"},[e.breakpoints.down(830)]:{paddingTop:"10%",paddingLeft:"33%"},[e.breakpoints.down(750)]:{paddingTop:"12%",paddingLeft:"35%"},[e.breakpoints.down(700)]:{paddingTop:"14%",paddingLeft:"39%"},[e.breakpoints.down(650)]:{paddingTop:"15%",paddingLeft:"43%"},[e.breakpoints.down(650)]:{paddingTop:"20%",paddingLeft:"3%"}},mobile:{marginTop:0}})));function at(e){let t=document.cookie.split("=")[1],a=c(t).allUser.name;const n=tt();return r.createElement("div",{className:n.root},r.createElement(ie,null),r.createElement("main",{className:n.content},r.createElement("div",{className:n.flexed},r.createElement("h2",null,r.createElement("span",null,r.createElement("strong",null," Welcome To Fintrack, ")),r.createElement("span",{className:n.colored},a,"."))),r.createElement("div",{className:n.app},r.createElement("div",{className:n.app_body},r.createElement("h1",{className:n.head},"Requests"),r.createElement(He,null)),r.createElement("div",{className:n.sum},r.createElement(Ve,null))),r.createElement(je,null),r.createElement(et,null)))}const nt=i((e=>s({root:{backgroundColor:"rgba(255, 255, 255, 0.05)"},toolbar:e.mixins.toolbar,drawerPaper:{backgroundColor:"#050A30",width:240,color:"white"},content:{flexGrow:1,justifyContent:"center"},app:{display:"flex",placeItems:"top",paddingLeft:"270px",paddingRight:"100px",paddingTop:"10px",[e.breakpoints.down(600)]:{display:"grid",paddingLeft:"10px",paddingTop:"150px"}},app_body:{backgroundColor:"white",width:"250%",borderRadius:"10px",[e.breakpoints.down(600)]:{width:"180%"}},head:{margin:"40px"},sum:{[e.breakpoints.down(600)]:{justifyContent:"center",marginLeft:"340px",marginTop:"10%"}},mobile:{marginTop:0},colored:{color:"#388e3c",fontSize:"1.2rem"},flexed:{display:"flex",flexDirection:"column",paddingTop:"7%",paddingLeft:"19%",[e.breakpoints.down(1400)]:{paddingTop:"7%",paddingLeft:"22%"},[e.breakpoints.down(1200)]:{paddingTop:"7%",paddingLeft:"25%"},[e.breakpoints.down(1e3)]:{paddingTop:"7%",paddingLeft:"27%"},[e.breakpoints.down(930)]:{paddingTop:"9%",paddingLeft:"30%"},[e.breakpoints.down(830)]:{paddingTop:"10%",paddingLeft:"33%"},[e.breakpoints.down(750)]:{paddingTop:"12%",paddingLeft:"35%"},[e.breakpoints.down(700)]:{paddingTop:"14%",paddingLeft:"39%"},[e.breakpoints.down(650)]:{paddingTop:"15%",paddingLeft:"43%"},[e.breakpoints.down(650)]:{paddingTop:"20%",paddingLeft:"3%"}}})));function ot(e){let t=document.cookie.split("=")[1],a=c(t).allUser.name;const n=nt();return r.createElement("div",{className:n.root},r.createElement(ie,null),r.createElement("main",{className:n.content},r.createElement("div",{className:n.flexed},r.createElement("h2",null,r.createElement("span",null,r.createElement("strong",null," Welcome To Fintrack, ")),r.createElement("span",{className:n.colored},a,"."))),r.createElement("div",{className:n.app},r.createElement("div",{className:n.app_body},r.createElement("h1",{className:n.head},"Requests"),r.createElement(He,null)),r.createElement("div",{className:n.sum},r.createElement(Ve,null))),r.createElement(je,null),r.createElement(De,null)))}class lt extends r.Component{constructor(e){super(e),this.getChartData=()=>{let e=[];this.state.allRequestInfo.map((t=>{"Requests"!=t.title&&e.push(t.amount)}));const t={labels:["Loan","Refund","Invoice","Upfront","Stipends","Others"],datasets:[{label:"Type",data:e,backgroundColor:["#FAD02C","#0000FF","#000C66","#050A30","#7EC8E3"],borderColor:["#CDA776","#989898","#CB252B","#E39371","#1D7A46"],borderWidth:[1,1,1,1,1]}]};this.setState({chartData:t}),console.log(this.state.chartData)},this.calculateAmount=e=>{const t=this.state.data;if(console.log(t.data),"Requests"===e)return t.data.length;return t.data.filter((t=>t.category==e.toLowerCase())).length},this.state={user:"",cost:[],allRequestInfo:[{request:"Loan"},{request:"Refund"},{request:"Invoice"},{request:"Upfront"},{request:"Stipends"},{request:"Others"}],data:{},chartData:{}}}async componentDidMount(){let e=document.cookie.split("=")[1],t=c(e),a=t.allUser.name;t.allUser.email.split("."),this.setState({user:a.split(" ")[0]});try{const t=await fetch("http://localhost:3000/allRequest",{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+e}});console.log(t);const a=await t.json();console.log(a),this.setState({data:a});const n=this.state.allRequestInfo.map((e=>l(l({},e),{amount:this.calculateAmount(e.request)})));this.setState({allRequestInfo:n}),this.getChartData()}catch(n){console.error(n)}}render(){console.log(this.state.chartData),this.state;const{classes:e}=this.props;return r.createElement("div",{className:e.container},r.createElement(se,{className:e.gridTile,cols:2},r.createElement(ce,{className:`${e.root} ${e.largeCard}`},r.createElement(me,null,r.createElement(pe,{variant:"h6",className:e.h6},r.createElement(de.Doughnut,{data:this.state.chartData,options:{title:{display:!0,text:"Request Type",fontSize:14},legend:{display:!0,position:"right"}}})),r.createElement(pe,{variant:"body2",color:"textSecondary",component:"p"})))))}}var rt=x((e=>({root:{flexGrow:1,marginBottom:"20px",textAlign:"center"},container:{backgroundColor:"#f2f6fa"},header:{alignSelf:"flex-end"},smallCard:{maxWidth:235,display:"flex",flexDirection:"column",alignItems:"center"},largeCard:{maxWidth:510},gridTile:{minHeight:350},h6:{fontWeight:"bold",marginTop:"25px"},media:{height:"100px",width:"100px"}})))(lt);class it extends r.Component{constructor(e){super(e),this.getChartData=()=>{let e=[];this.state.allRequestInfo.map((t=>{"Requests"!=t.title&&e.push(t.amount)}));const t={labels:["Pending","Needs approval","Approved","Resolved","Canceled"],datasets:[{label:"Status",data:e,backgroundColor:["#DEB887","#A9A9A9","#DC143C","#F4A460","#2E8B57"],borderColor:["#CDA776","#989898","#CB252B","#E39371","#1D7A46"],borderWidth:[1,1,1,1,1]}]};this.setState({chartData:t}),console.log(this.state.chartData),console.log(e)},this.calculateAmount=e=>{const t=this.state.data;if("Requests"===e)return t.data.length;{const a=t.data.filter((t=>t.status.toLowerCase()===e.toLowerCase()));let n=a.reduce(((e,t)=>e+t.amount),0);return a.amount=n,n}},this.state={user:"",cost:[],allRequestInfo:[{title:"Requests",imageUrl:"/assets/wallet.571b9e41.png"},{title:"Pending",imageUrl:"/assets/undraw_pending_approval_xuu9.097e81ba.svg"},{title:"Needs approval",imageUrl:"/assets/undraw_Payments_re_77x0.fd2e723a.svg"},{title:"Approved",imageUrl:"/assets/undraw_Order_confirmed_re_g0if.7dd4233c.svg"},{title:"Resolved",imageUrl:"/assets/undraw_wallet_aym5.e22280c5.svg"},{title:"Canceled",imageUrl:"/assets/undraw_access_denied_re_awnf.eacee022.svg"}],data:{},chartData:{}}}async componentDidMount(){let e=document.cookie.split("=")[1],t=c(e),a=t.allUser.name;t.allUser.email.split("."),this.setState({user:a.split(" ")[0]});try{const t=await fetch("http://localhost:3000/allRequest",{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+e}}),a=await t.json();this.setState({data:a});const n=this.state.allRequestInfo.map((e=>l(l({},e),{amount:this.calculateAmount(e.title)})));this.setState({allRequestInfo:n}),this.getChartData()}catch(n){console.error(n)}}render(){console.log(this.state.chartData);const{allRequestInfo:e}=this.state,{classes:t}=this.props;return r.createElement("div",{className:t.container},r.createElement("div",null,r.createElement("h4",null,"Hello ",this.state.user),r.createElement("p",null,"Welcome to your dashboard")),r.createElement(ue,{cellHeight:250,cols:{xs:2,sm:2,md:3,lg:4,xl:4}},e.map(((e,a)=>r.createElement(se,{key:e.title,className:t.gridTile,cols:1},r.createElement(ce,{className:`${t.root} ${t.smallCard}`},r.createElement(ge,{className:t.media,image:e.imageUrl,title:"status"}),r.createElement(me,null,r.createElement(pe,{variant:"h6",className:t.h6},0===a?e.amount:Number(e.amount).toLocaleString("en-NG",{style:"currency",currency:"NGN"})),r.createElement(pe,{variant:"body2",color:"textSecondary",component:"p"},e.title)))))),r.createElement(se,{className:t.gridTile,cols:2},r.createElement(ce,{className:`${t.root} ${t.largeCard}`},r.createElement(me,null,r.createElement(pe,{variant:"h6",className:t.h6},r.createElement(de.Doughnut,{data:this.state.chartData,options:{title:{display:!0,text:"Request Status",fontSize:14},legend:{display:!0,position:"right"}}})),r.createElement(pe,{variant:"body2",color:"textSecondary",component:"p"})))),r.createElement(rt,null)))}}var st=x((e=>({root:{flexGrow:1,marginBottom:"20px",textAlign:"center",[e.breakpoints.down(800)]:{width:"300%"}},container:{backgroundColor:"#f2f6fa",display:"flex",paddingLeft:"20px",justifyContent:"center",flexDirection:"column"},header:{alignSelf:"flex-end"},smallCard:{maxWidth:235,display:"flex",flexDirection:"column",alignItems:"center",[e.breakpoints.down(800)]:{minWidth:250}},largeCard:{maxWidth:510,[e.breakpoints.down(800)]:{maxWidth:"100%"},[e.breakpoints.down(600)]:{maxWidth:"510px"}},gridTile:{minHeight:350,display:"grid",marginRight:"10px",minWidth:"200px"},h6:{fontWeight:"bold",marginTop:"25px"},media:{height:"100px",width:"100px",marginTop:"25px"}})))(it);const ct=i((e=>s({root:{backgroundColor:"#f2f6fa",overflow:"scroll",[e.breakpoints.down(700)]:{display:"flex",justifyContent:"center",padding:"30px"}},toolbar:e.mixins.toolbar,drawerPaper:{backgroundColor:"#050A30",width:240,color:"white"},app:{display:"flex",paddingLeft:"270px",paddingRight:"100px",paddingTop:"100px",[e.breakpoints.down(1e3)]:{display:"grid",paddingRight:"0px"},[e.breakpoints.down(800)]:{display:"grid",paddingRight:"0px",paddingLeft:"250px"},[e.breakpoints.down(600)]:{display:"grid",paddingRight:"0px",paddingTop:"220px",paddingLeft:"5px"}},content:{flexGrow:1,justifyContent:"center"},head:{margin:"40px"}})));function mt(e){const t=ct();return r.createElement("div",{className:t.root},r.createElement(ie,null),r.createElement("main",{className:t.content},r.createElement("div",{className:t.app},r.createElement("div",null,r.createElement(st,null))),r.createElement(je,null),r.createElement(De,null)))}const pt={comment:""},dt=e=>{var t;const[a,n]=r.useState(pt),[o,i]=r.useState([]),s=e.location.pathname,d=s.lastIndexOf("/")+1,u=s.toString().slice(d);r.useEffect((()=>{!async function(){let e=await(async()=>{const e=document.cookie.split("=");try{return(await fetch(`http://localhost:3000/comment/${u}`,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+e[1]}})).json()}catch(t){console.error(t)}})();i(e)}()}),[]);let g=document.cookie.split("=")[1],h=c(g).allUser.name;const E=null==(t=null==o?void 0:o.data)?void 0:t.map((e=>{var t;console.log(e.authorEmail);let a=e.authorEmail.split("."),n=a[0],o=a[1],l=(n[0]+o[0]).toUpperCase();return console.log(l),e.author,r.createElement("div",{style:{display:"flex",marginTop:"2rem"}},r.createElement("div",{style:{marginRight:"20px",marginTop:"4px"}},r.createElement(R,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",style:{color:"blue",borderRadius:"28px",border:"2px solid grey",width:"60px",fontSize:"20px",backgroundColor:"white"}},l)),r.createElement(m,{key:e._id,style:{marginTop:"1rem",border:"none"}},r.createElement("li",{key:e._id,style:{listStyle:"none"}},r.createElement("h6",null,r.createElement("strong",null,h)),r.createElement("p",{style:{width:"50rem"}},null==(t=null==e?void 0:e.comment[0])?void 0:t.comment))))}));return r.createElement("div",{className:"App",style:{justifyContent:"center",alignItems:"center",marginLeft:"12rem"}},r.createElement(m,{bg:"white",style:{width:"65rem"}},r.createElement(m.Header,{style:{background:"rgb(40,41,64)",marginTop:"3.5rem",color:"#fff",padding:"2.5rem 0rem",textAlign:"center",fontSize:"1.7rem"}},r.createElement("b",null,"Comments")),r.createElement(m.Body,{style:{background:"#fff",paddingBottom:"70px"}},r.createElement("div",{style:{display:"flex",marginTop:"7rem",marginLeft:"2rem"}},r.createElement(p,{action:"",onSubmit:async e=>{e.preventDefault();const t=document.cookie.split("=");fetch(`http://localhost:3000/comment/${u}`,{mode:"cors",method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+t[1]}}).then((e=>e.json())),window.location.reload()}},r.createElement(p.Group,{controlId:"exampleForm.ControlTextarea1"},r.createElement(p.Control,{name:"comment",placeholder:"Add a comment..",value:a.comment,onChange:e=>{const{value:t,name:o}=e.target;n(l(l({},a),{[o]:t}))},as:"textarea",rows:2,style:{width:"50rem"}})),r.createElement(b,{style:{display:"block",marginTop:"9px",marginBottom:"2rem",fontSize:"17px",width:"10rem",background:"rgb(40,41,64)"},disabled:!a.comment,type:"submit",variant:"success"},"Add Comment"))),r.createElement("div",null,r.createElement("ul",{style:{marginTop:"1rem",marginLeft:"3rem"}},E)))),r.createElement(De,null),r.createElement(je,null))},ut=i((e=>s({root:{maxWidth:920},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:he[500]},cardContent:{[e.breakpoints.down(600)]:{fontSize:"25px",justifyContent:"center"}},card:{marginLeft:"4rem",marginTop:"0.5rem",marginBottom:"2rem",fontFamily:"Yellowtail",[e.breakpoints.down(600)]:{marginLeft:"150px"}},App:{justifyContent:"center",alignItems:"center",marginLeft:"24rem",[e.breakpoints.down(600)]:{marginLeft:"0rem",marginTop:"34px"}},inputField:{width:"50rem",[e.breakpoints.down(600)]:{fontSize:"20px"}},btnComment:{marginBottom:"2rem",fontSize:"13px",width:"10rem",padding:15,background:"rgb(40,41,64)",[e.breakpoints.down(600)]:{fontSize:"21px"}}}))),gt={comment:""},ht=e=>{var t,a;console.log(e);const[n,o]=r.useState(gt),[i,s]=r.useState([]),[m,d]=r.useState([]),u=ut(),[g,h]=r.useState(!1);console.log(e);const E=e.location.pathname,f=E.lastIndexOf("/")+1,x=E.toString().slice(f);console.log(m);r.useEffect((()=>{!async function(){let e=await(async()=>{const e=document.cookie.split("=");try{return(await fetch(`http://localhost:3000/request/${x}`,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+e[1]}})).json()}catch(t){console.error(t)}})();console.log(e),d(e.data)}()}),[]),console.log(m);r.useEffect((()=>{!async function(){let e=await(async()=>{const e=document.cookie.split("=");try{return(await fetch(`http://localhost:3000/comment/${x}`,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+e[1]}})).json()}catch(t){console.error(t)}})();s(e)}()}),[]);let y=document.cookie.split("=")[1],w=c(y).allUser.name;null==(t=null==m?void 0:m.data)||t.forEach((e=>(console.log(e),r.createElement("div",null,r.createElement(ce,null,r.createElement(me,null,r.createElement("p",null,null==e?void 0:e.email)))))));const v=null==(a=null==i?void 0:i.data)?void 0:a.map((e=>{var t;let a=e.authorEmail.split("."),n=a[0],o=a[1],l=(n[0]+o[0]).toUpperCase();return console.log(l),e.author,r.createElement("div",{style:{display:"flex",marginTop:"2rem"}},r.createElement("div",{style:{marginRight:"20px",marginTop:"4px"}},r.createElement(R,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",style:{color:"blue",borderRadius:"28px",border:"2px solid grey",width:"60px",fontSize:"20px",backgroundColor:"white"}},l)),r.createElement(ce,{key:e._id,style:{marginTop:"1rem",boxShadow:"none"}},r.createElement("li",{key:e._id,style:{listStyle:"none"}},r.createElement("h6",null,r.createElement("strong",null,w)),r.createElement("p",{style:{width:"50rem"}},null==(t=null==e?void 0:e.comment[0])?void 0:t.comment))))}));return r.createElement("div",{className:u.App},r.createElement(ce,{className:u.root,style:{width:"65rem"}},r.createElement(Ee,{style:{background:"rgb(40,41,64)",marginTop:"3.5rem",color:"#fff",padding:"1.5rem 0rem",textAlign:"center",fontSize:"1.7rem"},title:m.title},r.createElement("b",null,"Comments")),r.createElement(me,{style:{background:"#fff",paddingBottom:"70px"}},r.createElement("div",null,r.createElement(ce,{style:{marginTop:"2rem"},className:u.cardContent},r.createElement(Ee,{avatar:r.createElement(fe,{"aria-label":"recipe",className:u.avatar}),title:m.email,subheader:function(e){let t=new Date(e),a=t.getFullYear();t.getHours(),t.getSeconds(),t.getMinutes();let n=["Jan","Feb","March","April","May","June","July","August","Sept","Oct","Nov","Dec"][t.getMonth()],o=t.getDate();return o<10&&(o="0"+o),`${n} ${o},${a}`}(m.createdAt)}),r.createElement(me,{className:u.card},r.createElement(pe,{paragraph:!0,className:u.cardContent},r.createElement("p",{style:{color:"black",fontSize:"30px",fontWeight:"bold"}},"Description: ")," ",r.createElement("div",{style:{color:"black",font:"15px",marginRight:"100px"}},m.description)),r.createElement(pe,{paragraph:!0,className:u.cardContent},r.createElement("p",{style:{color:"black",font:"28px",fontWeight:"bold"}},"Type of Request: ",r.createElement("span",{style:{color:"black",font:"15px",fontWeight:"normal"}},m.request))),r.createElement(pe,{paragraph:!0,className:u.cardContent},r.createElement("p",{style:{color:"black",font:"25px",fontWeight:"bold"}},"Amount:"," ",": ",r.createElement("span",{style:{color:"black",font:"15px",fontWeight:"normal"}},Number(m.amount).toLocaleString("en-NG",{style:"currency",currency:"NGN"})))),r.createElement(pe,{paragraph:!0,className:u.cardContent},r.createElement("p",{style:{color:"black",font:"20px",fontWeight:"bold"}},"Status: ",r.createElement("span",{style:{color:"black",font:"15px",fontWeight:"normal"}},m.status))),r.createElement(pe,{paragraph:!0,className:u.cardContent},r.createElement("p",{style:{color:"black",font:"15px",fontWeight:"bold"}},"Approver(s): ",r.createElement("span",{style:{color:"black",font:"15px",fontWeight:"normal"}},m.approvers)))))),r.createElement("div",{style:{display:"flex",marginTop:"4rem",marginLeft:"2rem"}},r.createElement(p,{action:"",onSubmit:async e=>{e.preventDefault();const t=document.cookie.split("=");fetch(`http://localhost:3000/postComment/${x}`,{mode:"cors",method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+t[1]}}).then((e=>e.json())),window.location.reload()}},r.createElement(p.Group,{controlId:"exampleForm.ControlTextarea1"},r.createElement(p.Control,{name:"comment",placeholder:"Add a comment..",value:n.comment,onChange:e=>{const{value:t,name:a}=e.target;o(l(l({},n),{[a]:t}))},as:"textarea",rows:2,required:!0,className:u.inputField})),r.createElement(b,{className:u.btnComment,type:"submit",variant:"success"},"Add Comment"))),r.createElement(be,{disableSpacing:!0},r.createElement(R,{className:xe(u.expand,{[u.expandOpen]:g}),onClick:()=>{h(!g)},"aria-expanded":g,"aria-label":"show more"},r.createElement(ye,null))),r.createElement(P,{in:g,timeout:"auto",unmountOnExit:!0},r.createElement(me,null,r.createElement(pe,{paragraph:!0,style:{fontSize:"1.5rem",marginLeft:"6.6rem"}},"Comments"),r.createElement("div",null,r.createElement("ul",{style:{marginLeft:"1.6rem"}},v)))))),r.createElement(je,null),r.createElement(De,null))},Et=i((e=>s({root:{paddingLeft:"520px",paddingTop:"20px","& > *":{margin:e.spacing(8),width:"60ch"}},message:{marginLeft:"10px"},alert:{padding:"30px"}})));function ft(){const e=Et(),[t,a]=r.useState(!1),[n,o]=r.useState(""),[l,i]=r.useState(""),s=document.cookie.split("=")[1];c(s).allUser.email;const m=()=>{a(!0)};return r.createElement("div",null,r.createElement("form",{className:e.root,noValidate:!0,autoComplete:"off"},r.createElement(P,{in:t,className:e.message},r.createElement(h,{className:e.alert,action:r.createElement(R,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>{a(!1)}},r.createElement(we,{fontSize:"inherit"}))},"User updated successfully!")),r.createElement(pe,{variant:"h4",style:{marginTop:"10px",marginLeft:"160px",fontWeight:"bold"}},"Update User Role"),r.createElement("div",{style:{marginTop:"0px"}},r.createElement(pe,{style:{marginBottom:"20px",marginLeft:"170px",fontWeight:"bold"}},"Update user to admin"),r.createElement(G,{style:{width:"80%",marginBottom:"30px"},id:"outlined-basic",label:"email",value:n,variant:"outlined",onChange:e=>(e=>{o(e.target.value)})(e),required:!0}),r.createElement(v,{variant:"contained",color:"primary",onClick:()=>(async()=>{if(""!==n){const e="http://localhost:3000/updateAdmin";await fetch(e,{mode:"cors",method:"POST",body:JSON.stringify({email:n}),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+s}}).then((e=>e.json())),m()}o("")})(),style:{marginLeft:"33%"}},"Update"))),r.createElement("form",{className:e.root,noValidate:!0,autoComplete:"off"},r.createElement("div",null,r.createElement(pe,{style:{marginBottom:"20px",marginLeft:"170px",fontWeight:"bold"}},"Update user to agent"),r.createElement(G,{style:{width:"80%",marginBottom:"30px"},id:"outlined-basic",label:"email",value:l,variant:"outlined",onChange:e=>(e=>{i(e.target.value)})(e),required:!0}),r.createElement(v,{variant:"contained",color:"primary",onClick:()=>(async()=>{if(""!==l){const e="http://localhost:3000/updateAgent";await fetch(e,{mode:"cors",method:"POST",body:JSON.stringify({email:l}),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer "+s}}).then((e=>e.json())),m()}i("")})(),style:{marginLeft:"33%"}},"Update"))),r.createElement(De,null),r.createElement(je,null))}const bt=()=>r.createElement("div",{className:"App"},r.createElement(ve,null,r.createElement(Ce,null,r.createElement(ke,{path:"/",exact:!0,component:Se}),r.createElement(ke,{path:"/admin",exact:!0,component:document.cookie?at:Se}),r.createElement(ke,{path:"/analytics",exact:!0,component:mt}),r.createElement(ke,{path:"/user",exact:!0,component:document.cookie?at:Se}),r.createElement(ke,{path:"/agent",component:document.cookie?ot:Se}),r.createElement(ke,{path:"/request",component:_e}),r.createElement(ke,{path:"/adminrequest",component:We}),r.createElement(ke,{path:"/adminrequestdetails",exact:!0,component:dt}),r.createElement(ke,{path:"/comment",component:ht}),r.createElement(ke,{path:"/update",exact:!0,component:ft}))));Ne.render(r.createElement(r.Fragment,null,r.createElement(bt,null)),document.getElementById("root"));
